"use strict";(self.webpackChunkcommerce_services=self.webpackChunkcommerce_services||[]).push([[575],{53152:function(e,t,a){a.r(t),a.d(t,{_frontmatter:function(){return d},default:function(){return u}});var n,o=a(87462),i=a(63366),r=(a(15007),a(64983)),s=a(91515),m=["components"],d={},p=(n="InlineAlert",function(e){return console.warn("Component "+n+" was not imported, exported, or provided by MDXProvider as global scope"),(0,r.mdx)("div",e)}),l={_frontmatter:d},c=s.Z;function u(e){var t=e.components,a=(0,i.Z)(e,m);return(0,r.mdx)(c,(0,o.Z)({},l,a,{components:t,mdxType:"MDXLayout"}),(0,r.mdx)("h1",{id:"adobe-commerce-reporting-api"},"Adobe Commerce Reporting API"),(0,r.mdx)("p",null,"You can use the Adobe Commerce Reporting API to ",(0,r.mdx)("a",{parentName:"p",href:"import-api.md"},"import")," data into your data warehouse and ",(0,r.mdx)("a",{parentName:"p",href:"export-api.md"},"export")," raw data from your Adobe Commerce Reporting dashboards."),(0,r.mdx)("p",null,"The API is entirely HTTP-based. Methods are defined by an HTTP verb (GET, POST, PUT, DELETE), a URL, and a set of arguments. The response HTTP status code will be ",(0,r.mdx)("inlineCode",{parentName:"p"},"200-Success")," for all successful requests, unless otherwise specified. This API accepts and returns valid JSON for all its methods."),(0,r.mdx)("p",null,"To make integrating with the API easier, you can use one of the following ",(0,r.mdx)("a",{parentName:"p",href:"libraries.md"},"libraries"),"."),(0,r.mdx)("h2",{id:"authentication"},"Authentication"),(0,r.mdx)("p",null,"Adobe Commerce Reporting API calls require an authorization token. The token must be passed in the HTTP header of every request, which allows Adobe Commerce to verify that the caller is authorized to access a system resource. You must use two different tokens depending on if you are using the import API or the export API."),(0,r.mdx)("h3",{id:"generating-authentication-token-for-the-import-api"},"Generating authentication token for the import API"),(0,r.mdx)("p",null,"Authentication with the Data Import API is done with a single API key and your RJMetrics client ID."),(0,r.mdx)("p",null,"To create an import API key:"),(0,r.mdx)("ol",null,(0,r.mdx)("li",{parentName:"ol"},"Log into Adobe Commerce Reporting and select ",(0,r.mdx)("strong",{parentName:"li"},"Manage Data")," > ",(0,r.mdx)("strong",{parentName:"li"},"Integrations"),"."),(0,r.mdx)("li",{parentName:"ol"},"Click ",(0,r.mdx)("strong",{parentName:"li"},"Add an Integration"),"."),(0,r.mdx)("li",{parentName:"ol"},"Select the ",(0,r.mdx)("strong",{parentName:"li"},"Data Import API")," data source.")),(0,r.mdx)("p",null,"With the API key you can now authenticate, but first check the status of the Data Import API by calling:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-bash"},"curl -v https://connect.rjmetrics.com\n")),(0,r.mdx)("p",null,"This will return a ",(0,r.mdx)("inlineCode",{parentName:"p"},"200-Success")," response if the API is operational."),(0,r.mdx)("p",null,"Next, authenticate to the API by passing in your client ID and API key:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-bash"},"curl -v https://connect.rjmetrics.com/v2/client/:cid/authenticate?apikey=:apikey\n")),(0,r.mdx)(p,{variant:"warning",slots:"text",mdxType:"InlineAlert"}),(0,r.mdx)("p",null,"This key has write access to your Adobe Commerce Reporting data warehouse. Do not distribute this key to untrusted third parties."),(0,r.mdx)("h3",{id:"generating-authentication-token-for-the-export-api"},"Generating authentication token for the export API"),(0,r.mdx)("p",null,"​To create an export API authentication token:"),(0,r.mdx)("ol",null,(0,r.mdx)("li",{parentName:"ol"},"Log into Adobe Commerce Reporting and select ",(0,r.mdx)("strong",{parentName:"li"},"Manage Data")," > ",(0,r.mdx)("strong",{parentName:"li"},"Export Data")," > ",(0,r.mdx)("strong",{parentName:"li"},"Export API"),"."),(0,r.mdx)("li",{parentName:"ol"},"Click ",(0,r.mdx)("strong",{parentName:"li"},"Create a new Export API Key"),".")),(0,r.mdx)("p",null,"You must specify this key in the ",(0,r.mdx)("inlineCode",{parentName:"p"},"X-RJM-API-Key")," header of every export request.\n​\nAll keys must be associated with a single client and a set of IP addresses that are allowed to make requests. IP addresses can be specified either as a specific address, or as a range of addresses in ",(0,r.mdx)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing"},"CIDR notation"),". For example, the CIDR notation to allow ALL IP addresses would be: ",(0,r.mdx)("inlineCode",{parentName:"p"},"0.0.0.0/0"),"."),(0,r.mdx)("p",null,(0,r.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"302px"}},"\n      ",(0,r.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"26.158940397350992%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,r.mdx)("picture",{parentName:"span"},"\n          ",(0,r.mdx)("source",{parentName:"picture",srcSet:["/commerce-services/static/28f727fd67f84cdc2f5ab6a7681bffbd/794ea/mbi-valid-ip-address.webp 302w"],sizes:"(max-width: 302px) 100vw, 302px",type:"image/webp"}),"\n          ",(0,r.mdx)("source",{parentName:"picture",srcSet:["/commerce-services/static/28f727fd67f84cdc2f5ab6a7681bffbd/83034/mbi-valid-ip-address.png 302w"],sizes:"(max-width: 302px) 100vw, 302px",type:"image/png"}),"\n          ",(0,r.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/commerce-services/static/28f727fd67f84cdc2f5ab6a7681bffbd/83034/mbi-valid-ip-address.png",alt:"CIDR notation to allow all IP addresses",title:"CIDR notation to allow all IP addresses",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")))}u.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-reporting-index-md-a9b4f69b358f90303a84.js.map